<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />

    <link
      href="https://fonts.googleapis.com/css2?family=Urbanist:wght@300;400;500;600;700;900&amp;display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="%PUBLIC_URL%/assets/css/slick.css" />
    <link rel="stylesheet" href="%PUBLIC_URL%/assets/css/aos.css" />
    <link rel="stylesheet" href="%PUBLIC_URL%/assets/css/output.css" />
    <link rel="stylesheet" href="%PUBLIC_URL%/assets/css/style.css" />
    <link rel="stylesheet" href="%PUBLIC_URL%/assets/css/quill.core.css" />
    <link rel="stylesheet" href="%PUBLIC_URL%/assets/css/quill.snow.css" />
    <link
      rel="stylesheet"
      href="%PUBLIC_URL%/assets/css/font-awesome-all.min.css"
    />
    <link rel="stylesheet" href="%PUBLIC_URL%/assets/css/jsvectormap.css" />
    <link rel="stylesheet" href="%PUBLIC_URL%/assets/css/flatpickr.min.css" />
    <title>React App</title>
  </head>

  <body data-spy="scroll" data-target="#one-page-nav" data-offset="120">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script src="%PUBLIC_URL%/assets/js/jquery-3.6.0.min.js"></script>
    <script src="%PUBLIC_URL%/assets/js/jsvectormap.js"></script>
    <script src="%PUBLIC_URL%/assets/js/world.js"></script>
    <script src="%PUBLIC_URL%/assets/js/world-merc.js"></script>
    <script src="%PUBLIC_URL%/assets/js/aos.js"></script>
    <script src="%PUBLIC_URL%/assets/js/slick.min.js"></script>
    <script src="%PUBLIC_URL%/assets/js/chart.js"></script>
    <script src="%PUBLIC_URL%/assets/js/quill.min.js"></script>
    <script src="%PUBLIC_URL%/assets/js/calender.js"></script>
    <script src="%PUBLIC_URL%/assets/js/flatpickr.js"></script>
    <script src="%PUBLIC_URL%/assets/js/main.js"></script>
    <script>
      var markers = [
        {
          name: "Palestine",
          coords: [31.5, 34.8],
        },
        {
          name: "Russia",
          coords: [61, 105],
        },
        {
          name: "Greenland",
          coords: [72, -42],
        },
        {
          name: "Canada",
          coords: [56, -106],
        },
        {
          name: "Australia",
          coords: [-25, 140],
        },
      ];

      const map = new jsVectorMap({
        map: "world",
        selector: "#world-map",
        backgroundColor: "#F7FAFC",

        markerStyle: {
          initial: {
            fill: "#22C55E",
            r: 4,
          },
        },
        markersSelectable: true,
        // labels: {
        //   markers: {
        //     render: function (index) {
        //       return markers[index].name;
        //     },
        //   },
        // },
        markers: markers,
        draggable: true,
        zoomButtons: false,
        zoomOnScroll: true,
        zoomOnScrollSpeed: 3,
        zoomMax: 12,
        zoomMin: 1,
        zoomAnimate: true,
        showTooltip: true,
        zoomStep: 1.5,
        bindTouchEvents: true,
        regionStyle: {
          // Region style
          initial: {
            fill: "#DBE7FA",
            fillOpacity: 1,
            stroke: "none",
            strokeWidth: 0,
            strokeOpacity: 1,
          },
          hover: {
            fillOpacity: 0.7,
            cursor: "pointer",
            fill: "#22C55E",
          },
          selected: {
            fill: "#000",
          },
          selectedHover: {},
        },
        visualizeData: {
          scale: ["#22C55E", "#DBEAFE"],
          values: {
            US: 29,
            CA: 190,
          },
        },
      });

      $("#min-calender").flatpickr({
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        inline: true,
      });
      
      AOS.init();

      function revenueFlowLine() {}
      revenueFlowLine();

      let revenueFlowElement = document
        .getElementById("revenueFlowLine")
        .getContext("2d");
      let month = [
        "Jan",
        "Feb",
        "Mar",
        "April",
        "May",
        "Jun",
        "July",
        "Aug",
        "Sep",
        "Oct",
        "Nov",
        "Dec",
      ];
      let revenueFlow = new Chart(revenueFlowElement, {
        type: "line",
        plugins: [
          {
            beforeDatasetsDraw(chart) {
              chart.ctx.shadowColor = "rgba(37, 99, 235, 0.14)";
              chart.ctx.shadowBlur = 8;
            },
            afterDatasetsDraw(chart) {
              chart.ctx.shadowColor = "rgba(0, 0, 0, 0)";
              chart.ctx.shadowBlur = 0;
            },
          },
        ],
        data: {
          labels: month,
          datasets: [
            {
              label: "Signed",
              data: [65, 75, 65, 55, 75, 55, 45, 65, 75, 65, 85, 75],
              backgroundColor: () => {
                const chart = document
                  .getElementById("revenueFlowLine")
                  .getContext("2d");
                const gradient = chart.createLinearGradient(0, 0, 0, 450);
                gradient.addColorStop(0, "rgba(34, 197, 94,0.41)");
                gradient.addColorStop(0.6, "rgba(255, 255, 255, 0)");
                return gradient;
              },
              borderColor: "#22C55E",
              // pointRadius: 5,
              pointBorderColor: "#ffffff",
              pointBackgroundColor: "#22C55E",
              pointBorderWidth: 4,
              borderWidth: 2,
              fill: true,
              fillColor: "#fff",
              tension: 0.4,
            },
          ],
        },
        options: {
          // layout: {
          //   padding: {
          //     bottom: -20,
          //   },
          // },
          maintainAspectRatio: false,
          responsive: true,
          scales: {
            x: {
              grid: {
                color: "rgb(243 ,246, 255 ,1)",
              },
              gridLines: {
                zeroLineColor: "transparent",
              },
            },
            y: {
              beginAtZero: true,
              grid: {
                color: "rgb(243 ,246, 255 ,1)",
                borderDash: [5, 5],
                borderDashOffset: 2,
              },
              gridLines: {
                zeroLineColor: "transparent",
              },
              ticks: {
                callback(value) {
                  return `${value}% `;
                },
              },
            },
          },

          plugins: {
            legend: {
              position: "top",
              display: false,
            },
            title: {
              display: false,
              text: "Visitor: 2k",
            },
            // tooltip: {
            //   enabled: false,
            // },
          },
          elements: {
            point: {
              radius: [0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0],
              hoverRadius: 6,
            },
          },
        },
      });

      function pieChart() {
        let pieChart = document.getElementById("pie_chart").getContext("2d");

        const data = {
          labels: [10, 20, 30],
          datasets: [
            {
              label: "My First Dataset",
              data: [15, 20, 35, 40],
              backgroundColor: ["#1A202C", "#61C660", "#F8CC4B", "#EDF2F7"],
              borderColor: ["#ffffff", "#ffffff", "#ffffff", "#1A202C"],
              hoverOffset: 18,
              borderWidth: 0,
            },
          ],
        };
        const customDatalabels = {
          id: "customDatalabels",
          afterDatasetsDraw(chart, args, pluginOptions) {
            const {
              ctx,
              data,
              chartArea: { top, bottom, left, right, width, height },
            } = chart;
            ctx.save();
            data.datasets[0].data.forEach((datapoint, index) => {
              const { x, y } = chart
                .getDatasetMeta(0)
                .data[index].tooltipPosition();
              ctx.font = "bold 12px sans-serif";
              ctx.fillStyle = data.datasets[0].borderColor[index];
              ctx.textAlign = "center";
              ctx.textBaseline = "middle";
              ctx.fillText(`${datapoint}%`, x, y);
            });
          },
        };
        const config = {
          type: "doughnut",
          data,
          options: {
            maintainAspectRatio: false,
            layout: {
              padding: {
                left: 10,
                right: 10,
                top: 10,
                bottom: 10,
              },
            },
            plugins: {
              legend: {
                display: false,
              },
            },
          },
          plugins: [customDatalabels],
        };

        let pieChartConfiig = new Chart(pieChart, config);
      }
      pieChart();

      let themeToggleSwitch = document.getElementById("theme-toggle");

      //onclick
      if (themeToggleSwitch) {
        themeToggleSwitch.addEventListener("click", function () {
          if (
            document.documentElement.classList[0] === "dark" ||
            localStorage.theme === "dark"
          ) {
            revenueFlow.options.scales.y.ticks.color = "white";
            revenueFlow.options.scales.x.ticks.color = "white";
            revenueFlow.options.scales.x.grid.color = "#242830";
            revenueFlow.options.scales.y.grid.color = "#242830";
            revenueFlow.update();
          } else {
            revenueFlow.options.scales.y.ticks.color = "black";
            revenueFlow.options.scales.x.ticks.color = "black";
            revenueFlow.options.scales.x.grid.color = "rgb(243 ,246, 255 ,1)";
            revenueFlow.options.scales.y.grid.color = "rgb(243 ,246, 255 ,1)";
            revenueFlow.update();
          }
        });
      }

      //initial load
      if (
        localStorage.theme === "dark" ||
        window.matchMedia("(prefers-color-scheme: dark)").matches
      ) {
        revenueFlow.options.scales.y.ticks.color = "white";
        revenueFlow.options.scales.x.ticks.color = "white";
        revenueFlow.options.scales.x.grid.color = "#242830";
        revenueFlow.options.scales.y.grid.color = "#242830";
      } else {
        revenueFlow.options.scales.y.ticks.color = "black";
        revenueFlow.options.scales.x.ticks.color = "black";
        revenueFlow.options.scales.x.grid.color = "rgb(243 ,246, 255 ,1)";
        revenueFlow.options.scales.y.grid.color = "rgb(243 ,246, 255 ,1)";
      }
      revenueFlow.update();

      $(".card-slider").slick({
        dots: true,
        infinite: true,
        autoplay: true,
        speed: 500,
        fade: true,
        cssEase: "linear",
        arrows: false,
      });
    </script>
  </body>
</html>
